# TELL IF NO PERMISSION
    execute if entity @s[tag=!wpm_OP] run tellraw @s ["",{"text":"You do not have permission\nto perform this action!","color":"red"}]


################################ BUILDING ITEMS ##############################
execute if score @s _get_wpm_item_ID matches 1000000 if entity @s[tag=wpm_OP] run function wpm:map_funcs/get_items/all_building

execute if score @s _get_wpm_item_ID matches 1000001 if entity @s[tag=wpm_OP] run give @s enderman_spawn_egg{Enchantments:[{}],Tags:["DELETER_Spawnegg"],EntityTag:{id:"interaction",height:.25f,width:.25f,Rotation:[0f,0f],Invulnerable:1b,Tags:["NEW","DELETER","Play_Particles"]},display:{Name:'[{"text":"DELETER","italic":false,"color":"#ff3a45","bold":true}]',Lore:['[{"text":"place on or next to a special","italic":false,"color":"#cd2a33"}]','[{"text":"parkour-map block to delete it","italic":false,"color":"#cd2a33"}]']}} 1
execute if score @s _get_wpm_item_ID matches 1000002 if entity @s[tag=wpm_OP] run give @s allay_spawn_egg{Enchantments:[{}],Tags:["AirLift_Spawnegg"],EntityTag:{id:"interaction",height:5f,width:.4f,Rotation:[0f,0f],Invulnerable:1b,Tags:["NEW","AirLift"]},display:{Name:'[{"text":"Air Lift","italic":false,"bold":true,"color":"#99ccff"}]',Lore:['[{"text":"An invisible (10 blocks) lift","italic":false,"color":"#66ccff"}]']}} 1
execute if score @s _get_wpm_item_ID matches 1000003 if entity @s[tag=wpm_OP] run give @s creeper_spawn_egg{Enchantments:[{}],Tags:["JumpPad_Spawnegg"],EntityTag:{id:"interaction",height:1f,width:.4f,Rotation:[0f,0f],Invulnerable:1b,Tags:["NEW","JumpPad"]},display:{Name:'[{"text":"Jump Pad","italic":false,"color":"#00cc66","bold":true}]',Lore:['[{"text":"An invisible jump booster","italic":false,"color":"#66cc99"}]']}} 1
execute if score @s _get_wpm_item_ID matches 1000004 if entity @s[tag=wpm_OP] run give @s elder_guardian_spawn_egg{Enchantments:[{}],Tags:["Portal1_Spawnegg"],EntityTag:{id:"interaction",height:2f,width:1.01f,Rotation:[0f,0f],Invulnerable:1b,Tags:["NEW","PORTAL","Portal1"]},display:{Name:'[{"text":"Portal","italic":false,"color":"blue","bold":true},{"text":" 1","color":"gold"}]',Lore:['[{"text":"Teleports players to ","italic":false,"color":"#cc33ff"},{"text":"Portal ","color":"yellow","bold":true},{"text":"2","color":"gold","bold":true}]']}} 1
execute if score @s _get_wpm_item_ID matches 1000005 if entity @s[tag=wpm_OP] run give @s elder_guardian_spawn_egg{Enchantments:[{}],Tags:["Portal2_Spawnegg"],EntityTag:{id:"interaction",height:2f,width:1.01f,Rotation:[0f,0f],Invulnerable:1b,Tags:["NEW","PORTAL","Portal2"]},display:{Name:'[{"text":"Portal","italic":false,"color":"yellow","bold":true},{"text":" 2","color":"gold"}]',Lore:['[{"text":"Teleports players to ","italic":false,"color":"#cc33ff"},{"text":"Portal ","color":"blue","bold":true},{"text":"1","color":"gold","bold":true}]']}} 1
execute if score @s _get_wpm_item_ID matches 1000006 if entity @s[tag=wpm_OP] run give @s blaze_spawn_egg{Enchantments:[{}],Tags:["ResetButton_Spawnegg"],EntityTag:{id:"interaction",height:0f,width:.25f,Rotation:[0f,0f],Invulnerable:1b,Tags:["NEW","ResetButton"],CustomName:'[{"text":"Reset","bold":true,"color":"gold"}]',CustomNameVisible:1b},display:{Name:'[{"text":"Reset Button","italic":false,"bold":true,"color":"gold"}]',Lore:['[{"text":"Resets players back to","italic":false,"color":"#d58d17"}]','[{"text":"their last checkpoint","italic":false,"color":"#d58d17"}]']}} 1
execute if score @s _get_wpm_item_ID matches 1000007 if entity @s[tag=wpm_OP] run give @s ender_dragon_spawn_egg{Enchantments:[{}],Tags:["FakePortal_Spawnegg"],EntityTag:{id:"interaction",height:1f,width:1f,Rotation:[0f,0f],Invulnerable:1b,Tags:["NEW","Fake_Portal"]},display:{Name:'[{"text":"Fake Portal","italic":false,"color":"#9900ff","bold":true}]',Lore:['[{"text":"Places a fake portal","italic":false,"color":"#9966ff"}]','[{"text":"for decoration","italic":false,"color":"#9966ff"}]']}} 1
execute if score @s _get_wpm_item_ID matches 1000008 if entity @s[tag=wpm_OP] run give @s wandering_trader_spawn_egg{Enchantments:[{}],Tags:["SnakeBlock_Spawnegg"],EntityTag:{id:"interaction",height:.25f,width:.25f,Rotation:[0f,0f],Invulnerable:1b,Tags:["NEW","Snake_Block"]},display:{Name:'[{"text":"Snake Block","italic":false,"bold":true,"color":"#2461b4"}]',Lore:['[{"text":"Spawns a block that forms","italic":false,"color":"#6699ff"}]','[{"text":"a moving snake with other","italic":false,"color":"#6699ff"}]','[{"text":"such blocks next to it.","italic":false,"color":"#6699ff"}]']}} 1
execute if score @s _get_wpm_item_ID matches 1000009 if entity @s[tag=wpm_OP] run give @s turtle_spawn_egg{Enchantments:[{}],Tags:["MovingPlatform_Spawnegg"],EntityTag:{id:"interaction",height:1f,width:1f,Rotation:[0f,0f],Invulnerable:1b,Tags:["NEW","_MovingPlatform_","MovingPlatform"]},display:{Name:'[{"text":"Moving Platform","italic":false,"bold":true,"color":"#00bbe0"}]',Lore:['[{"text":"Spawns a platform, which","italic":false,"color":"#44acdd"}]','[{"text":"moves up and down.","italic":false,"color":"#44acdd"}]']}} 1
execute if score @s _get_wpm_item_ID matches 1000010 if entity @s[tag=wpm_OP] run give @s panda_spawn_egg{Enchantments:[{}],Tags:["DisplayItem_Spawnegg"],EntityTag:{id:"interaction",height:1.01f,width:1.01f,Rotation:[0f,0f],Invulnerable:1b,Tags:["NEW","Display_item"]},display:{Name:'[{"text":"Display Item","italic":false,"color":"#abadcd","bold":true},{"text":" ","bold":false},{"text":"Connector","bold":false,"color":"#7e88ec"}]',Lore:['[{"text":"Place within a radius of 1.5 blocks","italic":false,"color":"#5665f0"}]','[{"text":"of an item lying on the ground to","italic":false,"color":"#5665f0"}]','[{"text":"turn it into a display item","italic":false,"color":"#5665f0"}]']}} 1
execute if score @s _get_wpm_item_ID matches 1000011 if entity @s[tag=wpm_OP] run give @s strider_spawn_egg{Enchantments:[{}],Tags:["INT-Lock_Spawnegg"],EntityTag:{id:"interaction",height:1.01f,width:1.01f,Rotation:[0f,0f],Invulnerable:1b,Tags:["NEW","INT_Lock","Visible","Play_Particles"]},display:{Name:'[{"text":"VISIBLE ","color":"#7878c0","italic":false},{"text":"Interaction ","italic":false,"color":"#ff4853","bold":true},{"text":"Lock","color":"#e5182e"}]',Lore:['[{"text":"Can be placed on top of (above) functional blocks","italic":false,"color":"#990033"}]','[{"text":"to prevent players from interacting with them","italic":false,"color":"#990033"}]','[{"text":""}]','[{"text":"VISIBLE","italic":false,"color":"#ff6666","bold":true},{"text":" ","bold":false},{"text":"= Says «Locked» on interaction.","bold":false,"color":"#e34354"}]']}} 1
execute if score @s _get_wpm_item_ID matches 1000012 if entity @s[tag=wpm_OP] run give @s strider_spawn_egg{Enchantments:[{}],Tags:["INT-Lock_Spawnegg"],EntityTag:{id:"interaction",height:1.01f,width:1.01f,Rotation:[0f,0f],Invulnerable:1b,Tags:["NEW","INT_Lock","Invisible","Play_Particles"]},display:{Name:'[{"text":"INVISIBLE ","color":"#7878c0","italic":false},{"text":"Interaction ","italic":false,"color":"#ff4853","bold":true},{"text":"Lock","color":"#e5182e"}]',Lore:['[{"text":"Can be placed on top of (above) functional blocks","italic":false,"color":"#990033"}]','[{"text":"to prevent players from interacting with them","italic":false,"color":"#990033"}]','[{"text":""}]','[{"text":"INVISIBLE","italic":false,"color":"#ff6666","bold":true},{"text":" ","bold":false},{"text":"= Just blocks the interaction.","bold":false,"color":"#e34354"}]']}} 1

execute if score @s _get_wpm_item_ID matches 1000013 if entity @s[tag=wpm_OP] run give @s light_weighted_pressure_plate{display:{Name:'[{"text":"Checkpoint","italic":false,"color":"gold","bold":true}]'}} 1
execute if score @s _get_wpm_item_ID matches 1000014 if entity @s[tag=wpm_OP] run give @s warped_pressure_plate{display:{Name:'[{"text":"Gamemode","italic":false,"color":"#666699","bold":true},{"text":" PARKOUR","color":"#339999"}]'}} 1
execute if score @s _get_wpm_item_ID matches 1000015 if entity @s[tag=wpm_OP] run give @s mangrove_pressure_plate{display:{Name:'[{"text":"Gamemode","italic":false,"color":"#666699","bold":true},{"text":" RESET","color":"#cc4631"}]'}} 1

execute if score @s _get_wpm_item_ID matches 1000016 if entity @s[tag=wpm_OP] run give @s light{BlockStateTag:{level:"0"},display:{Name:'[{"text":"DeathBlock","italic":false,"color":"dark_red","bold":true},{"text":" INVIS.","color":"#666699"}]'}} 1
execute if score @s _get_wpm_item_ID matches 1000017 if entity @s[tag=wpm_OP] run give @s light{BlockStateTag:{level:"1"},display:{Name:'[{"text":"AirLift ","italic":false,"color":"#99ccff","bold":true},{"text":"INTERACTOR","color":"#666699"}]'}} 1
execute if score @s _get_wpm_item_ID matches 1000018 if entity @s[tag=wpm_OP] run give @s light{BlockStateTag:{level:"2"},display:{Name:'[{"text":"JumpPad ","italic":false,"color":"#83ff00","bold":true},{"text":"INTERACTOR","color":"#666699"}]'}} 1


################################ BUY STATIONS ##############################
execute if score @s _get_wpm_item_ID matches 2000000 if entity @s[tag=wpm_OP] run function wpm:map_funcs/get_items/all_buy-stations

execute if score @s _get_wpm_item_ID matches 2000001 if entity @s[tag=wpm_OP] run give @s magma_cube_spawn_egg{Enchantments:[{}],Tags:["BuyStation_Spawnegg"],EntityTag:{id:"interaction",height:0f,width:1f,Rotation:[0f,0f],Invulnerable:1b,Tags:["NEW","BuyStation","Buy_FreezeBomb"]},display:{Name:'[{"text":"BUY STATION:","italic":false,"bold":true,"color":"#f7e83b"},{"text":" Freeze Bomb","bold":false,"color":"aqua"}]',Lore:['[{"text":"A station for players","italic":false,"color":"#cec344"}]','[{"text":"to buy this item   ⤴","italic":false,"color":"#cec344"}]']}} 1


################################ RACE ITEMS ##############################
execute if score @s _get_wpm_item_ID matches 3000000 if entity @s[tag=wpm_OP] run function wpm:map_funcs/get_items/all_raceitems

execute if score @s _get_wpm_item_ID matches 3000001 if entity @s[tag=wpm_OP] run give @s red_candle{CustomModelData:2560001,Enchantments:[{id:"infinity",lvl:1}],Unbreakable:1,Tags:["SlapStick"],EntityTag:{Invisible:1b},AttributeModifiers:[{AttributeName:"generic.attack_damage",Amount:-1,Slot:mainhand,Name:"generic.attack_damage",UUID:[I;-123710,28282,1024,-56564]}],display:{Name:'[{"text":"SLAP STICK","italic":false,"color":"#ffcc00"},{"text":" [","color":"#bbbbbb"},{"text":"ᴀᴄᴛɪᴠᴇ","color":"#66cc66"},{"text":"][","color":"#bbbbbb"},{"text":"INACTIVE","color":"#ff6666","bold":true},{"text":"]","color":"#bbbbbb","bold":false}]',Lore:['[{"text":"If active:","italic":false,"color":"#888888","bold":true},{"text":" gives your opponent","italic":false,"color":"#888888","bold":false}]','[{"text":"  → ","italic":false,"color":"#888888"},{"text":"knockback","color":"dark_purple"},{"text":" but still ","color":"888888"},{"text":"0 damage","color":"dark_purple"},{"text":"","color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"‹< active every ","italic":false,"color":"gray"},{"text":"20s","color":"light_purple"},{"text":" for "},{"text":"10s","color":"light_purple"},{"text":" >›"}]']},HideFlags:35} 1
execute if score @s _get_wpm_item_ID matches 3000002 if entity @s[tag=wpm_OP] run give @s golden_shovel{CustomModelData:2560001,Damage:12,EntityTag:{Invisible:1b},AttributeModifiers:[{AttributeName:"generic.attack_damage",Amount:7.5,Slot:mainhand,Name:"generic.attack_damage",UUID:[I;-1231114,24295,125612,-48590]}],display:{Name:'[{"text":"THROW ","italic":false,"color":"#ffcc00","bold":true},{"text":"Shovel","bold":false}]',Lore:['[{"text":"It will throw your opponent","italic":false,"color":"gold"}]','[{"text":"pretty far from his path.","italic":false,"color":"gold"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"〚10 uses before it breaks〛","italic":false,"color":"blue"}]']},Enchantments:[{id:"knockback",lvl:4}],HideFlags:35} 1
execute if score @s _get_wpm_item_ID matches 3000003 if entity @s[tag=wpm_OP] run give @s bow{CustomModelData:2560001,Unbreakable:1,EntityTag:{Invisible:1b},display:{Name:'[{"text":"Arrow","italic":false,"color":"#99cccc","bold":true},{"text":" Launcher","bold":false}]',Lore:['[{"text":"Launches arrows ","italic":false,"color":"#6699cc"},{"text":"pretty far","color":"dark_purple"},{"text":" and","color":"#6699cc"}]','[{"text":"in addition, ","italic":false,"color":"#6699cc"},{"text":"throws the hit player","color":"light_purple"}]']},Enchantments:[{id:"infinity",lvl:1},{id:"punch",lvl:1},{id:"quick_charge",lvl:255}],HideFlags:35} 1
execute if score @s _get_wpm_item_ID matches 3000004 if entity @s[tag=wpm_OP] run give @s warped_fungus_on_a_stick{CustomModelData:2560001,Unbreakable:1,Damage:0,Tags:["Homing_MissileLauncher"],tags:1b,EntityTag:{Invisible:1b},display:{Name:'[{"text":"HOMING","italic":false,"color":"#ff6633"},{"text":" ","color":"#669999"},{"text":"Missile-Launcher","color":"#26d8a8","bold":true}]',Lore:['[{"text":"Launches a ","italic":false,"color":"#66cccc"},{"text":"FUNGUS-MISSILE","color":"#00cccc"},{"text":"","color":"dark_purple"}]','[{"text":"when right-clicked.","italic":false,"color":"#66cccc"}]','[{"text":"The ","italic":false,"color":"#66cccc"},{"text":"MISSILE","color":"#00cccc"},{"text":" will fly in the","color":"#66cccc"}]','[{"text":"direction you\'re looking and","italic":false,"color":"#66cccc"}]','[{"text":"start ","italic":false,"color":"#66cccc"},{"text":"HOMING","color":"#00cccc"},{"text":" an entity when","color":"#66cccc"}]','[{"text":"it ","italic":false,"color":"#66cccc"},{"text":"COMES CLOSE ENOUGH","color":"#00cccc"},{"text":" to one."},{"text":"","color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"Much Damage","italic":false,"color":"#6699ff"}]']},Enchantments:[{id:"infinity",lvl:1}],HideFlags:99} 1
execute if score @s _get_wpm_item_ID matches 3000005 if entity @s[tag=wpm_OP] run give @s snowball{CustomModelData:2560001,Enchantments:[{id:"infinity",lvl:1}],HideFlags:1,Tags:["FreezeBomb"],display:{Name:'[{"text":"Freeze Bomb","italic":false,"bold":true,"color":"aqua"}]',Lore:['[{"text":"Freezes all entities in","italic":false,"color":"#ccffff"}]','[{"text":"a radius of 5 blocks to","italic":false,"color":"#ccffff"}]','[{"text":"the ","italic":false,"color":"#ccffff"},{"text":"Freeze Bomb","color":"aqua"},{"text":"."},{"text":"","color":"dark_purple"}]','[{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"No Damage","italic":false,"color":"#6699ff"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"10s Freezing","italic":false,"color":"#66ccff"}]']}} 1
execute if score @s _get_wpm_item_ID matches 3000006 if entity @s[tag=wpm_OP] run give @s mooshroom_spawn_egg{CustomModelData:2560001,HideFlags:17,Rotation:[0f,0f],CanPlaceOn:["#wpm:full_blocks","#trapdoors[half=top,open=false]","#slabs[type=double]","#stairs[half=top]","#slabs[type=top]"],EntityTag:{id:"interaction",height:1f,width:1f,Invulnerable:1b,Tags:["Landmine"],CustomName:'[{"text":"Landmine","color":"red","bold":true}]'},Enchantments:[{id:"infinity",lvl:1}],display:{Name:'[{"text":"Landmine","italic":false,"color":"red","bold":true}]',Lore:['[{"text":"Explodes on every ","italic":false,"color":"#cc3333"},{"text":"mob","italic":false,"color":"#ff6666"}]','[{"text":"and player","italic":false,"color":"#ff6666"},{"text":" ","color":"#cc3333"},{"text":"except you","color":"#ff0033"}]','[{"text":"that comes in a ","italic":false,"color":"#cc3333"},{"text":"radius","italic":false,"color":"#ff6666"}]','[{"text":"of 1 block","italic":false,"color":"#ff6666"},{"text":" to the mine","color":"#cc3333"}]','[{"text":""}]','[{"text":"Much Damage","italic":false,"color":"#ff9966"}]','[{"text":"Infinite Life Time","italic":false,"color":"#ff9900"}]','[{"text":""}]','[{"text":"Can be placed on:","italic":false,"color":"#bbbbbb"},{"text":"","italic":false,"color":"dark_purple"}]','[{"text":"All Full Blocks","italic":false,"color":"#666666"}]']}} 1


# CHECK INVALID ID
    execute if score @s _get_wpm_item_ID matches 1000000..1000018 run tag @s add ID_found
    execute if score @s _get_wpm_item_ID matches 2000000..2000001 run tag @s add ID_found
    execute if score @s _get_wpm_item_ID matches 3000000..3000006 run tag @s add ID_found
    # ANNOUNCE FAILED ITEM-RESOLVE
        execute unless entity @s[tag=ID_found] run function wpm:map_funcs/get_items/by_id/announce_no-id

# RESET GET-ITEM-BY-ID
    function wpm:map_funcs/get_items/by_id/reset_get-item
