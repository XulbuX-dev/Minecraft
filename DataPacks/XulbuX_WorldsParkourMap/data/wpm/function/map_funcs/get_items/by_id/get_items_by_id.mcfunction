# TELL IF NO PERMISSION
    execute if entity @s[tag=!wpm_op] run tellraw @s ["",{"text":"You do not have permission\nto perform this action!","color":"red"}]


################################ BUILDING ITEMS ##############################
execute if score @s _get_wpm_item_id matches 1000000 if entity @s[tag=wpm_op] run function wpm:map_funcs/get_items/all_building

execute if score @s _get_wpm_item_id matches 1000001 if entity @s[tag=wpm_op] run give @s enderman_spawn_egg[enchantment_glint_override=true,custom_data={deleter_spawnegg:1},entity_data={id:"interaction",height:.25f,width:.25f,Rotation:[0f,0f],Invulnerable:1b,Tags:["play_particles","new","deleter"]},custom_name='["",{"text":"DELETER","color":"#FF3A45","bold":true}]',lore=['[{"text":"place on or next to a special","color":"#CD2A33"}]','[{"text":"parkour-map block to delete it","color":"#CD2A33"}]']] 1
execute if score @s _get_wpm_item_id matches 1000002 if entity @s[tag=wpm_op] run give @s allay_spawn_egg[enchantment_glint_override=true,custom_data={air_lift_spawnegg:1},entity_data={id:"interaction",height:5f,width:.4f,Rotation:[0f,0f],Invulnerable:1b,Tags:["air_lift","new"]},custom_name='["",{"text":"Air Lift","bold":true,"color":"#99CCFF"}]',lore=['[{"text":"An invisible (10 blocks) lift","color":"#66CCFF"}]']] 1
execute if score @s _get_wpm_item_id matches 1000003 if entity @s[tag=wpm_op] run give @s creeper_spawn_egg[enchantment_glint_override=true,custom_data={jump_pad_spawnegg:1},entity_data={id:"interaction",height:1f,width:.4f,Rotation:[0f,0f],Invulnerable:1b,Tags:["new","jump_pad"]},custom_name='["",{"text":"Jump Pad","color":"#00CC66","bold":true}]',lore=['[{"text":"An invisible jump booster","color":"#66CC99"}]']] 1
execute if score @s _get_wpm_item_id matches 1000004 if entity @s[tag=wpm_op] run give @s elder_guardian_spawn_egg[enchantment_glint_override=true,custom_data={portal1_spawnegg:1},entity_data={id:"interaction",height:2f,width:1.01f,Rotation:[0f,0f],Invulnerable:1b,Tags:["portal1","new","portal"]},custom_name='["",{"text":"Portal","color":"blue","bold":true},{"text":" 1","color":"gold"}]',lore=['[{"text":"Teleports players to ","color":"#CC33FF"},{"text":"Portal ","color":"yellow","bold":true},{"text":"2","color":"gold","bold":true}]']] 1
execute if score @s _get_wpm_item_id matches 1000005 if entity @s[tag=wpm_op] run give @s elder_guardian_spawn_egg[enchantment_glint_override=true,custom_data={portal2_spawnegg:1},entity_data={id:"interaction",height:2f,width:1.01f,Rotation:[0f,0f],Invulnerable:1b,Tags:["new","portal","portal2"]},custom_name='["",{"text":"Portal","color":"yellow","bold":true},{"text":" 2","color":"gold"}]',lore=['[{"text":"Teleports players to ","color":"#CC33FF"},{"text":"Portal ","color":"blue","bold":true},{"text":"1","color":"gold","bold":true}]']] 1
execute if score @s _get_wpm_item_id matches 1000006 if entity @s[tag=wpm_op] run give @s blaze_spawn_egg[enchantment_glint_override=true,custom_data={reset_button_spawnegg:1},entity_data={id:"interaction",height:0f,width:.25f,Rotation:[0f,0f],Invulnerable:1b,Tags:["reset_button","new"],CustomName:'[{"text":"Reset","bold":true,"color":"gold"}]',CustomNameVisible:1b},custom_name='["",{"text":"Reset Button","bold":true,"color":"gold"}]',lore=['[{"text":"Resets players back to","color":"#D58D17"}]','[{"text":"their last checkpoint","color":"#D58D17"}]']] 1
execute if score @s _get_wpm_item_id matches 1000007 if entity @s[tag=wpm_op] run give @s ender_dragon_spawn_egg[enchantment_glint_override=true,custom_data={fake_portal_spawnegg:1},entity_data={id:"interaction",height:1f,width:1f,Rotation:[0f,0f],Invulnerable:1b,Tags:["fake_portal","new"]},custom_name='["",{"text":"Fake Portal","color":"#9900FF","bold":true}]',lore=['[{"text":"Places a fake portal","color":"#9966FF"}]','[{"text":"for decoration","color":"#9966FF"}]']] 1
execute if score @s _get_wpm_item_id matches 1000008 if entity @s[tag=wpm_op] run give @s wandering_trader_spawn_egg[enchantment_glint_override=true,custom_data={snake_block_spawnegg:1},entity_data={id:"interaction",height:.25f,width:.25f,Rotation:[0f,0f],Invulnerable:1b,Tags:["snake_block","new"]},custom_name='["",{"text":"Snake Block","bold":true,"color":"#2461B4"}]',lore=['[{"text":"Spawns a block that forms","color":"#6699FF"}]','[{"text":"a moving snake with other","color":"#6699FF"}]','[{"text":"such blocks next to it.","color":"#6699FF"}]']] 1
execute if score @s _get_wpm_item_id matches 1000009 if entity @s[tag=wpm_op] run give @s turtle_spawn_egg[enchantment_glint_override=true,custom_data={moving_platform_spawnegg:1},entity_data={id:"interaction",height:1f,width:1f,Rotation:[0f,0f],Invulnerable:1b,Tags:["moving_platform","new","_moving_platform_"]},custom_name='["",{"text":"Moving Platform","bold":true,"color":"#00BBE0"}]',lore=['[{"text":"Spawns a platform, which","color":"#44ACDD"}]','[{"text":"moves up and down.","color":"#44ACDD"}]']] 1
execute if score @s _get_wpm_item_id matches 1000010 if entity @s[tag=wpm_op] run give @s panda_spawn_egg[enchantment_glint_override=true,custom_data={display_item_spawnegg:1},entity_data={id:"interaction",height:1.01f,width:1.01f,Rotation:[0f,0f],Invulnerable:1b,Tags:["display_item","new"]},custom_name='["",{"text":"Display Item","color":"#ABADCD","bold":true},{"text":" "},{"text":"Connector","color":"#7E88EC"}]',lore=['[{"text":"Place within a radius of 1.5 blocks","color":"#5665F0"}]','[{"text":"of an item lying on the ground to","color":"#5665F0"}]','[{"text":"turn it into a display item","color":"#5665F0"}]']] 1
execute if score @s _get_wpm_item_id matches 1000011 if entity @s[tag=wpm_op] run give @s strider_spawn_egg[enchantment_glint_override=true,custom_data={int_lock_spawnegg:1},entity_data={id:"interaction",height:1.01f,width:1.01f,Rotation:[0f,0f],Invulnerable:1b,Tags:["visible","play_particles","new","int_lock"]},custom_name='["",{"text":"VISIBLE ","color":"#7878C0"},{"text":"Interaction ","color":"#FF4853","bold":true},{"text":"Lock","color":"#E5182E"}]',lore=['[{"text":"Can be placed on top of (above) functional blocks","color":"#990033"}]','[{"text":"to prevent players from interacting with them","color":"#990033"}]','[{"text":""}]','[{"text":"VISIBLE","color":"#FF6666","bold":true},{"text":" "},{"text":"= Says «Locked» on interaction.","color":"#E34354"}]']] 1
execute if score @s _get_wpm_item_id matches 1000012 if entity @s[tag=wpm_op] run give @s strider_spawn_egg[enchantment_glint_override=true,custom_data={int_lock_spawnegg:1},entity_data={id:"interaction",height:1.01f,width:1.01f,Rotation:[0f,0f],Invulnerable:1b,Tags:["invisible","play_particles","new","int_lock"]},custom_name='["",{"text":"INVISIBLE ","color":"#7878C0"},{"text":"Interaction ","color":"#FF4853","bold":true},{"text":"Lock","color":"#E5182E"}]',lore=['[{"text":"Can be placed on top of (above) functional blocks","color":"#990033"}]','[{"text":"to prevent players from interacting with them","color":"#990033"}]','[{"text":""}]','[{"text":"INVISIBLE","color":"#FF6666","bold":true},{"text":" "},{"text":"= Just blocks the interaction.","color":"#E34354"}]']] 1

execute if score @s _get_wpm_item_id matches 1000013 if entity @s[tag=wpm_op] run give @s light_weighted_pressure_plate[custom_name='["",{"text":"Checkpoint","color":"gold","bold":true}]'] 1
execute if score @s _get_wpm_item_id matches 1000014 if entity @s[tag=wpm_op] run give @s warped_pressure_plate[custom_name='["",{"text":"Gamemode","color":"#666699","bold":true},{"text":" PARKOUR","color":"#339999"}]'] 1
execute if score @s _get_wpm_item_id matches 1000015 if entity @s[tag=wpm_op] run give @s mangrove_pressure_plate[custom_name='["",{"text":"Gamemode","color":"#666699","bold":true},{"text":" RESET","color":"#CC4631"}]'] 1

execute if score @s _get_wpm_item_id matches 1000016 if entity @s[tag=wpm_op] run give @s light[block_state={level:"0"},custom_name='["",{"text":"DeathBlock","color":"dark_red","bold":true},{"text":" INVIS.","color":"#666699"}]'] 1
execute if score @s _get_wpm_item_id matches 1000017 if entity @s[tag=wpm_op] run give @s light[block_state={level:"1"},custom_name='["",{"text":"AirLift ","color":"#99CCFF","bold":true},{"text":"INTERACTOR","color":"#666699"}]'] 1
execute if score @s _get_wpm_item_id matches 1000018 if entity @s[tag=wpm_op] run give @s light[block_state={level:"2"},custom_name='["",{"text":"JumpPad ","color":"#83FF00","bold":true},{"text":"INTERACTOR","color":"#666699"}]'] 1


################################ BUY STATIONS ##############################
execute if score @s _get_wpm_item_id matches 2000000 if entity @s[tag=wpm_op] run function wpm:map_funcs/get_items/all_buy-stations

execute if score @s _get_wpm_item_id matches 2000001 if entity @s[tag=wpm_op] run give @s magma_cube_spawn_egg[enchantment_glint_override=true,custom_data={buy_station_spawnegg:1},entity_data={id:"interaction",height:0f,width:1f,Rotation:[0f,0f],Invulnerable:1b,Tags:["buy_freeze_bomb","new","buy_station"]},custom_name='["",{"text":"BUY STATION:","bold":true,"color":"#F7E83B"},{"text":" Freeze Bomb","color":"aqua"}]',lore=['[{"text":"A station for players","color":"#CEC344"}]','[{"text":"to buy this item   ⤴","color":"#CEC344"}]']] 1


################################ RACE ITEMS ##############################
execute if score @s _get_wpm_item_id matches 3000000 if entity @s[tag=wpm_op] run function wpm:map_funcs/get_items/all_raceitems

execute if score @s _get_wpm_item_id matches 3000001 if entity @s[tag=wpm_op] run give @s red_candle[custom_model_data=2560001,enchantments={levels:{infinity:1}},unbreakable={show_in_tooltip:false},custom_data={slap_stick:1},attribute_modifiers={modifiers:[{type:attack_damage,amount:-1,operation:add_value,id:"4402341421836"}]},custom_name='["",{"text":"SLAP STICK","color":"#FFCC00"},{"text":" [","color":"#BBBBBB"},{"text":"ᴀᴄᴛɪᴠᴇ","color":"#66CC66"},{"text":"][","color":"#BBBBBB"},{"text":"INACTIVE","color":"#FF6666","bold":true},{"text":"]","color":"#BBBBBB"}]',lore=['[{"text":"If active:","color":"#888888","bold":true},{"text":" gives your opponent","color":"#888888"}]','[{"text":"  → ","color":"#888888"},{"text":"knockback","color":"dark_purple"},{"text":" but still ","color":"888888"},{"text":"0 damage","color":"dark_purple"},{"text":"","color":"dark_purple"}]','[{"text":"","color":"dark_purple"}]','[{"text":"‹< active every ","color":"gray"},{"text":"20s","color":"light_purple"},{"text":" for "},{"text":"10s","color":"light_purple"},{"text":" >›"}]']] 1
execute if score @s _get_wpm_item_id matches 3000002 if entity @s[tag=wpm_op] run give @s golden_shovel[custom_model_data=2560001,damage=12,attribute_modifiers={modifiers:[{type:attack_damage,amount:7.5,operation:add_value,id:"5395037269038"}]},custom_name='["",{"text":"THROW ","color":"#FFCC00","bold":true},{"text":"Shovel"}]',lore=['[{"text":"It will throw your opponent","color":"gold"}]','[{"text":"pretty far from his path.","color":"gold"},{"text":"","color":"dark_purple"}]','[{"text":"","color":"dark_purple"}]','[{"text":"〚10 uses before it breaks〛","color":"blue"}]'],enchantments={levels:{knockback:4}}] 1
execute if score @s _get_wpm_item_id matches 3000003 if entity @s[tag=wpm_op] run give @s bow[custom_model_data=2560001,unbreakable={show_in_tooltip:false},custom_name='["",{"text":"Arrow","color":"#99CCCC","bold":true},{"text":" Launcher"}]',lore=['[{"text":"Launches arrows ","color":"#6699CC"},{"text":"pretty far","color":"dark_purple"},{"text":" and","color":"#6699CC"}]','[{"text":"in addition, ","color":"#6699CC"},{"text":"throws the hit player","color":"light_purple"}]'],enchantments={levels:{quick_charge:255}}] 1
execute if score @s _get_wpm_item_id matches 3000004 if entity @s[tag=wpm_op] run give @s warped_fungus_on_a_stick[custom_model_data=2560001,unbreakable={show_in_tooltip:false},damage=0,custom_data={homing_missile_launcher:1},custom_name='["",{"text":"HOMING","color":"#FF6633"},{"text":" ","color":"#669999"},{"text":"Missile-Launcher","color":"#26D8A8","bold":true}]',lore=['[{"text":"Launches a ","color":"#66CCCC"},{"text":"FUNGUS-MISSILE","color":"#00CCCC"},{"text":"","color":"dark_purple"}]','[{"text":"when right-clicked.","color":"#66CCCC"}]','[{"text":"The ","color":"#66CCCC"},{"text":"MISSILE","color":"#00CCCC"},{"text":" will fly in the","color":"#66CCCC"}]','[{"text":"direction you\'re looking and","color":"#66CCCC"}]','[{"text":"start ","color":"#66CCCC"},{"text":"HOMING","color":"#00CCCC"},{"text":" an entity when","color":"#66CCCC"}]','[{"text":"it ","color":"#66CCCC"},{"text":"COMES CLOSE ENOUGH","color":"#00CCCC"},{"text":" to one."},{"text":"","color":"dark_purple"}]','[{"text":"","color":"dark_purple"}]','[{"text":"Much Damage","color":"#6699FF"}]'],enchantments={levels:{infinity:1}}] 1
execute if score @s _get_wpm_item_id matches 3000005 if entity @s[tag=wpm_op] run give @s snowball[custom_model_data=2560001,enchantments={levels:{infinity:1}},custom_data={freeze_bomb:1},custom_name='["",{"text":"Freeze Bomb","bold":true,"color":"aqua"}]',lore=['[{"text":"Freezes all entities in","color":"#CCFFFF"}]','[{"text":"a radius of 5 blocks to","color":"#CCFFFF"}]','[{"text":"the ","color":"#CCFFFF"},{"text":"Freeze Bomb","color":"aqua"},{"text":"."},{"text":"","color":"dark_purple"}]','[{"text":"","color":"dark_purple"}]','[{"text":"No Damage","color":"#6699FF"},{"text":"","color":"dark_purple"}]','[{"text":"10s Freezing","color":"#66CCFF"}]']] 1
execute if score @s _get_wpm_item_id matches 3000006 if entity @s[tag=wpm_op] run give @s mooshroom_spawn_egg[custom_model_data=2560001,can_place_on={predicates:[{blocks:"#wpm:full_blocks"},{blocks:"#trapdoors",state:{half:"top",open:"false"}},{blocks:"#slabs",state:{type:"double"}},{blocks:"#stairs",state:{half:"top"}},{blocks:"#slabs",state:{type:"top"}}]},entity_data={id:"interaction",height:1f,width:1f,Invulnerable:1b,Tags:["landmine"],CustomName:'[{"text":"Landmine","color":"red","bold":true}]'},enchantments={levels:{infinity:1}},custom_name='["",{"text":"Landmine","color":"red","bold":true}]',lore=['[{"text":"Explodes on every ","color":"#CC3333"},{"text":"mob","color":"#FF6666"}]','[{"text":"and player","color":"#FF6666"},{"text":" ","color":"#CC3333"},{"text":"except you","color":"#FF0033"}]','[{"text":"that comes in a ","color":"#CC3333"},{"text":"radius","color":"#FF6666"}]','[{"text":"of 1 block","color":"#FF6666"},{"text":" to the mine","color":"#CC3333"}]','[{"text":""}]','[{"text":"Much Damage","color":"#FF9966"}]','[{"text":"Infinite Life Time","color":"#FF9900"}]','[{"text":""}]','[{"text":"Can be placed on:","color":"#BBBBBB"},{"text":"","color":"dark_purple"}]','[{"text":"All Full Blocks","color":"#666666"}]']] 1


# CHECK INVALID ID
    execute if score @s _get_wpm_item_id matches 1000000..1000018 run tag @s add id_found
    execute if score @s _get_wpm_item_id matches 2000000..2000001 run tag @s add id_found
    execute if score @s _get_wpm_item_id matches 3000000..3000006 run tag @s add id_found
    # ANNOUNCE FAILED ITEM-RESOLVE
        execute unless entity @s[tag=id_found] run function wpm:map_funcs/get_items/by_id/announce_no-id

# RESET GET-ITEM-BY-ID
    function wpm:map_funcs/get_items/by_id/reset_get-item
